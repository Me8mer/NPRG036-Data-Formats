[
  .Owner[] | . as $owner |
  .OwnsEshop[] | . as $shop |
  {
    corporation: $owner.Name,
    companyID: $owner.CompanyID,
    shop: $shop.Name,
    shopURL: $shop.URL,
    accountLogin: $shop.ProvidesAccount.Login,
    cartItems: $shop.ProvidesAccount.ProvidesCart.ItemCount,
    cartTotal: $shop.ProvidesAccount.ProvidesCart.TotalPrice
  }
] | sort_by(.cartTotal) | .[]

# relationship between corporations, shops, and customer carts, sorted by carttotal